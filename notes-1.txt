
Dockerfile
ARG MY_UID
ARG MY_GID

RUN \
    usermod -u $MY_UID www-data \
    && groupmod -g $MY_GID www-data \
    && mkdir -p data/backups \
    && chown -R www-data:www-data data/backups

compose 

  itop:
    depends_on:
      - db
    build:
      context: ./itop_setup
      args:
        MY_UID: ${MY_UID}
        MY_GID: ${MY_GID}
    container_name: itop
    restart: always
    volumes:
      - ./itop:/var/www/html
      - ./itop_setup/zz-docker.conf:/usr/local/etc/php-fpm.d/zz-docker.conf
      - ./itop_setup/opcache.ini:/usr/local/etc/php/conf.d/opcache.ini


#!/bin/bash

export MY_UID=$(id -u)
export MY_GID=$(id -g)

docker compose up -d --build

docker exec
WARN[0000] The "MY_UID" variable is not set. Defaulting to a blank string.
WARN[0000] The "MY_GID" variable is not set. Defaulting to a blank string.

